<script src="../../dist/vue.global.js"></script>

<div id="root"></div>

<script>
  const { createApp, ref, h, onBeforeMount, onMounted, inject } = Vue

  const app = createApp(
    {
      setup() {
        const user = inject('user')
        const count = ref(0)
        const add = () => {
          count.value++
        }

        onBeforeMount(() => {
          console.log('BeforeMount')
        })

        onMounted(() => {
          console.log('Mounted')
        })

        return () =>
          h(
            'Test',
            {
              onClick: add
            },
            `count is: ${count.value} ${user}`
          )
      }
    },
    {
      x: 1
    }
  )

  // debugger;
  // app.component('Node', {
  //   render() {
  //     return h('div', {}, 'node')
  //   }
  // })

  // debugger;
  // app.mixin({
  //   data() {
  //     return {
  //       x: 1
  //     }
  //   }
  // })

  // debugger
  app.provide('user', 'administrator')

  // debugger
  app.use({
    install(app) {
      console.log(app, '11')
    }
  })

  // debugger
  app.mount('#root')

  // setTimeout(() => {
  //   debugger;
  //   app.unmount()
  // }, 3000)
</script>
